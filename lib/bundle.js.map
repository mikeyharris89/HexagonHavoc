{"version":3,"sources":["webpack:///webpack/bootstrap bbb1186eaf1b73b78226","webpack:///./lib/hexagons.js","webpack:///./lib/game.js","webpack:///./lib/platform.js","webpack:///./lib/flag.js","webpack:///./lib/player.js","webpack:///./lib/gameView.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;;AAEA;AACA;AACA;;;;;;;ACjBA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAwB,kCAAkC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA,kBAAiB,wBAAwB;;AAEzC;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA,2CAA0C,qBAAqB;AAC/D;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7NA,sCAAqC;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;;;;;;AC5DA;;AAEA,kCAAiC;AACjC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AC9BA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACxEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap bbb1186eaf1b73b78226\n **/","var Game = require(\"./game\"),\n    GameView = require(\"./gameView\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  var canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  var ctx = canvasEl.getContext(\"2d\");\n  var game = new Game();\n  new GameView(game, ctx).start();\n});\n\nwindow.addEventListener(\"keydown\", keyDownListener, false);\n\nvar keyDownListener = function(e) {\n  debugger\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/hexagons.js\n ** module id = 0\n ** module chunks = 0\n **/","var Platform = require(\"./platform.js\"),\n    Flag = require('./flag.js'),\n    Player = require('./player.js');\n\nvar Game = function () {\n  this.platforms = [];\n  this.players = {};\n  this.flag = new Flag({ game: this, colors: Game.COLORS });\n  this.movingOut = true;\n  this.homePlatforms = [];\n  this.addPlatforms();\n  this.addPlayers(2);\n  this.flagPlatform = this.platforms[3];\n  this.paused = true;\n  setTimeout(function() {\n    this.paused = false;\n  }.bind(this), 3000);\n};\n\nGame.BG_COLOR = \"#000000\";\nGame.DIM_X = 1000;\nGame.DIM_Y = 600;\nGame.FPS = 32;\nGame.NUM_PLATFORMS = 7;\nGame.COLORS = [\"#FFADF7\", \"#FF0000\", \"#0000FF\", \"#FFFF00\", \"#00CC00\", \"#7F00FF\", \"#00FFFF\"];\nGame.PLATFORM_POS = [[370, 113], [500, 113], [305, 225], [435, 225], [565, 225], [370, 337], [500, 337]];\nGame.PLATFORM_DIRS = [[-4, -4], [4, -4], [-6, 0], [0, 6], [6, 0], [-4, 4], [4, 4]];\n\n\n\nGame.prototype.add = function (object) {\n  if (object.type === \"Platform\") {\n    this.platforms.push(object);\n  } else if (object.type === \"Flag\"){\n    this.flag.push(object);\n  }\n};\n\nGame.prototype.addPlatforms = function () {\n  for (var i = 0; i < Game.NUM_PLATFORMS; i++) {\n\n    this.add(new Platform( {\n      game: this,\n      color: Game.COLORS[i],\n      pos: Game.PLATFORM_POS[i],\n      direction: Game.PLATFORM_DIRS[i]\n    }));\n  }\n};\n\nGame.prototype.addPlayers = function (numPlayers) {\n  var name = [\"Hillary\", \"Trump\", \"Bernie\", \"Obama\"],\n      pos = [[500,300], [480,350], [520, 350], [480, 250]],\n      colors = [\"#A9A9A9\", \"#FFFFFF\", \"#000000\", \"#A52A2A\"],\n      keyCodes = [[65, 87, 68, 83], [37, 38, 39, 40]];\n  for (var i = 0; i < numPlayers; i++) {\n    this.players[name[i]] = new Player({\n      name: name[i],\n      pos: pos[i],\n      game: this,\n      color: colors[i],\n      keyCodes: keyCodes[i]});\n  }\n};\n\nGame.prototype.pointInHexagon = function(point, vertices) {\n  var x = point[0], y = point[1];\n\n  var inside = false;\n  for (var i = 0, j = vertices.length - 1; i < vertices.length; j = i++) {\n    var xi = vertices[i][0], yi = vertices[i][1];\n    var xj = vertices[j][0], yj = vertices[j][1];\n\n    var intersect = ((yi > y) != (yj > y)) &&\n    (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n\n    if (intersect) {\n      inside = !inside;\n    }\n  }\n  return inside;\n};\n\nGame.prototype.offBoard = function(object, index, array) {\n  if (object.color === this.flag.color) {\n    return true;\n  } else if ((object.pos[0] < -150) || (object.pos[0] > 1150)){\n    return true;\n  } else if ((object.pos[1] < -150) || (object.pos[1] > 1150)){\n    return true;\n  }\n\n  return false;\n};\n\nGame.prototype.backHome = function(object) {\n\n  if ((equalPositions(object.pos, object.startPos)) && (this.homePlatforms.indexOf(object) === -1)){\n    this.homePlatforms.push(object);\n  }\n};\n\nvar equalPositions = function(pos1, pos2) {\n  return (pos1[0] === pos2[0]) && (pos1[1] === pos2[1]);\n};\n\nGame.prototype.allOff = function () {\n  var game = this;\n  if (game.platforms.every(game.offBoard, game)){\n    game.movingOut = false;\n  }\n};\n\n\nGame.prototype.allBack = function () {\n  if (this.homePlatforms.length > 6){\n  }\n  if (this.homePlatforms.length === this.platforms.length){\n    var game = this;\n    this.flag.changeColor();\n    this.platforms.forEach(function(platform) {\n      if (platform.color === game.flag.color){\n            game.flagPlatform = platform;\n      }\n    });\n    this.homePlatforms =[];\n    this.movingOut = true;\n    this.paused = true;\n    setTimeout(function() {\n        this.removePlayers();\n      this.paused = false;\n    }.bind(this), 3000);\n  }\n};\n\nGame.prototype.removePlayers = function() {\n  var game = this;\n  Object.keys(game.players).forEach(function(key) {\n    if (!game.playerInBound(game.players[key])){\n      delete game.players[key];\n    }\n  });\n};\n\nGame.prototype.playerInBound = function(player) {\n  var pos = [player.xPos, player.yPos];\n  return this.pointInHexagon(pos, this.flagPlatform.vertices);\n};\n\nGame.prototype.allObjects = function () {\n  var players = [],\n      game = this;\n\n  Object.keys(game.players).forEach(function(key) {\n    players.push(game.players[key]);\n  });\n\n  return [].concat(this.flag, this.platforms, players);\n};\n\nGame.prototype.draw = function (ctx) {\n  ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n  ctx.fillStyle = Game.BG_COLOR;\n  ctx.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\n  if (!this.gameOver()) {\n    this.allObjects().forEach(function(object) {\n      object.draw(ctx);\n    });\n  }\n\n};\n\nGame.prototype.gameOver = function () {\n  return Object.keys(this.players).length < 1;\n};\n\nGame.prototype.moveObjects = function(delta, direction) {\n  var game = this;\n  if (game.paused) {\n    Object.keys(game.players).forEach(function(key) {\n      if (game.players[key].offPlatforms()){\n        delete game.players[key];\n      }\n    });\n  }\n  else if (!game.paused) {\n\n    game.removePlayers();\n    game.platforms.forEach(function(platform) {\n      if (platform.color === game.flag.color){\n\n        game.flagPlatform = platform;\n        game.backHome(platform);\n        return;\n      }\n      if (direction === -1) {\n        game.backHome(platform);\n      }\n\n      if (game.homePlatforms.includes(platform)){\n        return;\n      }\n\n      platform.move(delta, \"blue\", direction);\n    });\n  }\n};\n\n\nGame.prototype.step = function (delta) {\n  if (this.movingOut){\n    this.moveObjects(delta, 1);\n    this.allOff();\n  }\n\n  else {\n    this.moveObjects(delta, -1);\n    this.allBack();\n  }\n};\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","var Platform = function (options = {}) {\n\n  this.direction = options.direction;\n  this.color = options.color;\n  this.pos = options.pos;\n  this.startPos = options.pos;\n  this.angle = 0.523598776;\n  this.sideLength = 75;\n  this.height = Math.sin(this.angle) * this.sideLength;\n  this.radius = Math.cos(this.angle) * this.sideLength;\n  this.rectHeight = this.sideLength + 2 * this.height;\n  this.rectWidth = 2 * this.radius;\n  this.vertices = this.addVertices();\n\n};\n\n\nPlatform.prototype.addVertices = function() {\n\n  var x = this.pos[0],\n  y = this.pos[1],\n\n  vertex1 = [x + this.radius, y],\n  vertex2 = [x + this.rectWidth, y + this.height],\n  vertex3 = [x + this.rectWidth, y + this.height + this.sideLength],\n  vertex4 = [x + this.radius, y + this.rectHeight],\n  vertex5 = [x, y + this.sideLength + this.height],\n  vertex6 = [x, y + this.height];\n  var vertices = [];\n  vertices.push(vertex1, vertex2, vertex3, vertex4, vertex5, vertex6);\n  return vertices;\n};\n\nPlatform.prototype.draw = function(ctx) {\n  this.vertices = this.addVertices();\n  ctx.fillStyle = this.color;\n  ctx.beginPath();\n  ctx.moveTo(this.vertices[0][0], this.vertices[0][1]);\n\n  this.vertices.slice(1).forEach(function(vertex){\n    ctx.lineTo(vertex[0], vertex[1]);\n  });\n\n  ctx.closePath();\n  ctx.fill();\n};\n\nvar NORMAL_FRAME_TIME_DELTA = 1000/60;\n\nPlatform.prototype.move = function(timeDelta, color, direction){\n  // var velocityScale = Math.floor(timeDelta / NORMAL_FRAME_TIME_DELTA),\n    var offsetX = (this.direction[0] * direction),\n        offsetY = (this.direction[1] * direction);\n\n  this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n};\n\n\n\nPlatform.prototype.type = \"Platform\";\nmodule.exports = Platform;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/platform.js\n ** module id = 2\n ** module chunks = 0\n **/","var Game = require(\"./game.js\");\n\nvar Flag = function (options = {} ) {\n  this.colors = options.colors;\n  this.color = this.colors[3];\n  this.game = options.game;\n};\n\nFlag.prototype.draw = function (ctx) {\n  ctx.fillStyle = this.color;\n\n  ctx.beginPath();\n  ctx.moveTo(900, 75);\n  ctx.lineTo(975, 75);\n  ctx.lineTo(975, 150);\n  ctx.lineTo(900, 150);\n  ctx.closePath();\n\n  ctx.fill();\n};\n\n\nFlag.prototype.randomColor = function (){\n  return this.colors[Math.floor(Math.random() * this.colors.length)];\n};\n\nFlag.prototype.changeColor = function () {\n  this.color = this.randomColor();\n};\n\nmodule.exports = Flag;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/flag.js\n ** module id = 3\n ** module chunks = 0\n **/","var Player = function (options = {}) {\n  this.game = options.game;\n  this.name = options.name;\n  this.keyCodes = options.keyCodes;\n  this.color = options.color;\n  this.xPos = options.pos[0];\n  this.yPos = options.pos[1];\n  this.velX = 0;\n  this.velY = 0;\n  this.speed = 10;\n  this.radius = 10;\n  this.friction = 0.75;\n  this.addKeyListener();\n};\n\nPlayer.prototype.draw = function (ctx) {\n  ctx.fillStyle = this.color;\n  ctx.beginPath();\n  ctx.arc(\n    this.xPos, this.yPos, this.radius, 0, 2 * Math.PI, true\n  );\n  ctx.fill();\n};\n\nPlayer.prototype.offPlatforms = function () {\n  var player = this,\n      platforms = player.game.platforms,\n      pos = [player.xPos, player.yPos];\n\n  for (var i = 0; i < platforms.length; i++) {\n    if (player.game.pointInHexagon(pos, platforms[i].vertices)){\n      return false;\n    }\n  }\n  return true;\n};\n\nPlayer.prototype.addKeyListener = function () {\n  this.fn = this.move.bind(this);\n  window.addEventListener(\"keydown\", this.fn, true);\n  window.addEventListener(\"keyup\", this.fn, false);\n};\n\nPlayer.prototype.move = function (e) {\n\n  // e.preventDefault();\n  if (e.keyCode === this.keyCodes[0]){\n    if (this.velX > -this.speed){\n        this.velX -= 10;\n    }\n  } else if (e.keyCode === this.keyCodes[1]) {\n    if (this.velY > -this.speed){\n        this.velY -= 10;\n    }\n  } else if (e.keyCode === this.keyCodes[2]) {\n    if (this.velX < this.speed){\n        this.velX += 10;\n    }\n  } else if (e.keyCode === this.keyCodes[3]) {\n    if (this.velY < this.speed){\n        this.velY += 10;\n    }\n  }\n  if (this.keyCodes.includes(e.keyCode)) {\n    this.velY *= this.friction;\n    this.yPos += this.velY;\n    this.velX *= this.friction;\n    this.xPos += this.velX;\n\n  }\n};\n\nmodule.exports = Player;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/player.js\n ** module id = 4\n ** module chunks = 0\n **/","var GameView = function (game, ctx) {\n  this.ctx = ctx;\n  this.game = game;\n};\n\nGameView.prototype.start = function () {\n  this.lastTime = 0;\n  requestAnimationFrame(this.animate.bind(this), 8000);\n};\n\nGameView.prototype.animate = function(time){\n  var timeDelta = time - this.lastTime;\n\n  this.game.step(timeDelta);\n  this.game.draw(this.ctx);\n  this.lastTime = time;\n  requestAnimationFrame(this.animate.bind(this), 8000);\n};\n\nmodule.exports = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/gameView.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}